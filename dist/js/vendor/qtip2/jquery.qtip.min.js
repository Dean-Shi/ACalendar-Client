(function(e,t,n){(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.qtip&&e(jQuery)})(function(r){function s(e,t,n,i){this.id=n,this.target=e,this.tooltip=D,this.elements={target:e},this._id=V+"-"+n,this.timers={img:{}},this.options=t,this.plugins={},this.cache={event:{},target:r(),disabled:_,attr:i,onTooltip:_,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=_}function o(e){return e===D||"object"!==r.type(e)}function u(e){return!(r.isFunction(e)||e&&e.attr||e.length||"object"===r.type(e)&&(e.jquery||e.then))}function a(e){var t,n,i,s;return o(e)?_:(o(e.metadata)&&(e.metadata={type:e.metadata}),"content"in e&&(t=e.content,o(t)||t.jquery||t.done?t=e.content={text:n=u(t)?_:t}:n=t.text,"ajax"in t&&(i=t.ajax,s=i&&i.once!==_,delete t.ajax,t.text=function(e,t){var o=n||r(this).attr(t.options.content.attr)||"Loading...",u=r.ajax(r.extend({},i,{context:t})).then(i.success,D,i.error).then(function(e){return e&&s&&t.set("content.text",e),e},function(e,n,r){t.destroyed||0===e.status||t.set("content.text",n+": "+r)});return s?o:(t.set("content.text",o),u)}),"title"in t&&(o(t.title)||(t.button=t.title.button,t.title=t.title.text),u(t.title||_)&&(t.title=_))),"position"in e&&o(e.position)&&(e.position={my:e.position,at:e.position}),"show"in e&&o(e.show)&&(e.show=e.show.jquery?{target:e.show}:e.show===M?{ready:M}:{event:e.show}),"hide"in e&&o(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide}),"style"in e&&o(e.style)&&(e.style={classes:e.style}),r.each(X,function(){this.sanitize&&this.sanitize(e)}),e)}function f(e,t){for(var n,r=0,i=e,s=t.split(".");i=i[s[r++]];)s.length>r&&(n=i);return[n||e,s.pop()]}function l(e,t){var n,r,i;for(n in this.checks)for(r in this.checks[n])(i=RegExp(r,"i").exec(e))&&(t.push(i),("builtin"===n||this.plugins[n])&&this.checks[n][r].apply(this.plugins[n]||this,t))}function c(e){return K.concat("").join(e?"-"+e+" ":" ")}function h(n){return n&&{type:n.type,pageX:n.pageX,pageY:n.pageY,target:n.target,relatedTarget:n.relatedTarget,scrollX:n.scrollX||e.pageXOffset||t.body.scrollLeft||t.documentElement.scrollLeft,scrollY:n.scrollY||e.pageYOffset||t.body.scrollTop||t.documentElement.scrollTop}||{}}function p(e,t){return t>0?setTimeout(r.proxy(e,this),t):(e.call(this),n)}function d(e){return this.tooltip.hasClass(nt)?_:(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=p.call(this,function(){this.toggle(M,e)},this.options.show.delay),n)}function v(e){if(this.tooltip.hasClass(nt))return _;var t=r(e.relatedTarget),n=t.closest(Q)[0]===this.tooltip[0],i=t[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==t[0]&&"mouse"===this.options.position.target&&n||this.options.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(n||i))try{e.preventDefault(),e.stopImmediatePropagation()}catch(s){}else this.timers.hide=p.call(this,function(){this.toggle(_,e)},this.options.hide.delay,this)}function m(e){return this.tooltip.hasClass(nt)||!this.options.hide.inactive?_:(clearTimeout(this.timers.inactive),this.timers.inactive=p.call(this,function(){this.hide(e)},this.options.hide.inactive),n)}function g(e){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(e)}function y(e,n,i){r(t.body).delegate(e,(n.split?n:n.join(ft+" "))+ft,function(){var e=C.api[r.attr(this,J)];e&&!e.disabled&&i.apply(e,arguments)})}function b(e,n,i){var o,u,f,l,c,h=r(t.body),p=e[0]===t?h:e,d=e.metadata?e.metadata(i.metadata):D,v="html5"===i.metadata.type&&d?d[i.metadata.name]:D,m=e.data(i.metadata.name||"qtipopts");try{m="string"==typeof m?r.parseJSON(m):m}catch(g){}if(l=r.extend(M,{},C.defaults,i,"object"==typeof m?a(m):D,a(v||d)),u=l.position,l.id=n,"boolean"==typeof l.content.text){if(f=e.attr(l.content.attr),l.content.attr===_||!f)return _;l.content.text=f}if(u.container.length||(u.container=h),u.target===_&&(u.target=p),l.show.target===_&&(l.show.target=p),l.show.solo===M&&(l.show.solo=u.container.closest("body")),l.hide.target===_&&(l.hide.target=p),l.position.viewport===M&&(l.position.viewport=u.container),u.container=u.container.eq(0),u.at=new L(u.at,M),u.my=new L(u.my),e.data(V))if(l.overwrite)e.qtip("destroy",!0);else if(l.overwrite===_)return _;return e.attr($,n),l.suppress&&(c=e.attr("title"))&&e.removeAttr("title").attr(it,c).attr("title",""),o=new s(e,l,n,!!f),e.data(V,o),e.one("remove.qtip-"+n+" removeqtip.qtip-"+n,function(){var e;(e=r(this).data(V))&&e.destroy(!0)}),o}function w(e){return e.charAt(0).toUpperCase()+e.slice(1)}function E(e,t){var r,s,o=t.charAt(0).toUpperCase()+t.slice(1),u=(t+" "+St.join(o+" ")+o).split(" "),a=0;if(Et[t])return e.css(Et[t]);for(;r=u[a++];)if((s=e.css(r))!==n)return Et[t]=r,s}function S(e,t){return Math.ceil(parseFloat(E(e,t)))}function x(e,t){this._ns="tip",this.options=t,this.offset=t.offset,this.size=[t.width,t.height],this.init(this.qtip=e)}function T(e,t){this.options=t,this._ns="-modal",this.init(this.qtip=e)}function N(e){this._ns="ie6",this.init(this.qtip=e)}var C,k,L,A,O,M=!0,_=!1,D=null,P="x",H="y",B="width",j="height",F="top",I="left",q="bottom",R="right",U="center",z="flipinvert",W="shift",X={},V="qtip",$="data-hasqtip",J="data-qtip-id",K=["ui-widget","ui-tooltip"],Q="."+V,G="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),Y=V+"-fixed",Z=V+"-default",et=V+"-focus",tt=V+"-hover",nt=V+"-disabled",rt="_replacedByqTip",it="oldtitle",st={ie:function(){for(var e=3,n=t.createElement("div");(n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&n.getElementsByTagName("i")[0];);return e>4?e:0/0}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||_};k=s.prototype,k.render=function(e){if(this.rendered||this.destroyed)return this;var t,n=this,i=this.options,s=this.cache,o=this.elements,u=i.content.text,a=i.content.title,f=i.content.button,l=i.position,c=("."+this._id+" ",[]);return r.attr(this.target[0],"aria-describedby",this._id),this.tooltip=o.tooltip=t=r("<div/>",{id:this._id,"class":[V,Z,i.style.classes,V+"-pos-"+i.position.my.abbrev()].join(" "),width:i.style.width||"",height:i.style.height||"",tracking:"mouse"===l.target&&l.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":_,"aria-describedby":this._id+"-content","aria-hidden":M}).toggleClass(nt,this.disabled).attr(J,this.id).data(V,this).appendTo(l.container).append(o.content=r("<div />",{"class":V+"-content",id:this._id+"-content","aria-atomic":M})),this.rendered=-1,this.positioning=M,a&&(this._createTitle(),r.isFunction(a)||c.push(this._updateTitle(a,_))),f&&this._createButton(),r.isFunction(u)||c.push(this._updateContent(u,_)),this.rendered=M,this._setWidget(),r.each(X,function(e){var t;"render"===this.initialize&&(t=this(n))&&(n.plugins[e]=t)}),this._unassignEvents(),this._assignEvents(),r.when.apply(r,c).then(function(){n._trigger("render"),n.positioning=_,n.hiddenDuringWait||!i.show.ready&&!e||n.toggle(M,s.event,_),n.hiddenDuringWait=_}),C.api[this.id]=this,this},k.destroy=function(e){function t(){if(!this.destroyed){this.destroyed=M;var e=this.target,t=e.attr(it);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),r.each(this.plugins,function(){this.destroy&&this.destroy()}),clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this._unassignEvents(),e.removeData(V).removeAttr(J).removeAttr("aria-describedby"),this.options.suppress&&t&&e.attr("title",t).removeAttr(it),this._unbind(e),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=D,delete C.api[this.id]}}return this.destroyed?this.target:(e!==M&&this.rendered?(this.tooltip.one("tooltiphidden",r.proxy(t,this)),!this.triggering&&this.hide()):t.call(this),this.target)},A=k.checks={builtin:{"^id$":function(e,t,n,i){var s=n===M?C.nextid:n,o=V+"-"+s;s!==_&&s.length>0&&!r("#"+o).length?(this._id=o,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):e[t]=i},"^prerender":function(e,t,n){n&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(e,t,n){this._updateContent(n)},"^content.attr$":function(e,t,n,r){this.options.content.text===this.target.attr(r)&&this._updateContent(this.target.attr(n))},"^content.title$":function(e,t,r){return r?(r&&!this.elements.title&&this._createTitle(),this._updateTitle(r),n):this._removeTitle()},"^content.button$":function(e,t,n){this._updateButton(n)},"^content.title.(text|button)$":function(e,t,n){this.set("content."+t,n)},"^position.(my|at)$":function(e,t,n){"string"==typeof n&&(e[t]=new L(n,"at"===t))},"^position.container$":function(e,t,n){this.rendered&&this.tooltip.appendTo(n)},"^show.ready$":function(e,t,n){n&&(!this.rendered&&this.render(M)||this.toggle(M))},"^style.classes$":function(e,t,n,r){this.rendered&&this.tooltip.removeClass(r).addClass(n)},"^style.(width|height)":function(e,t,n){this.rendered&&this.tooltip.css(t,n)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(e,t,n){this.rendered&&this.tooltip.toggleClass(Z,!!n)},"^events.(render|show|move|hide|focus|blur)$":function(e,t,n){this.rendered&&this.tooltip[(r.isFunction(n)?"":"un")+"bind"]("tooltip"+t,n)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var e=this.options.position;this.tooltip.attr("tracking","mouse"===e.target&&e.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},k.get=function(e){if(this.destroyed)return this;var t=f(this.options,e.toLowerCase()),n=t[0][t[1]];return n.precedance?n.string():n};var ot=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,ut=/^prerender|show\.ready/i;k.set=function(e,t){if(this.destroyed)return this;var s,o=this.rendered,u=_,c=this.options;return this.checks,"string"==typeof e?(s=e,e={},e[s]=t):e=r.extend({},e),r.each(e,function(t,s){if(o&&ut.test(t))return delete e[t],n;var a,l=f(c,t.toLowerCase());a=l[0][l[1]],l[0][l[1]]=s&&s.nodeType?r(s):s,u=ot.test(t)||u,e[t]=[l[0],l[1],s,a]}),a(c),this.positioning=M,r.each(e,r.proxy(l,this)),this.positioning=_,this.rendered&&this.tooltip[0].offsetWidth>0&&u&&this.reposition("mouse"===c.position.target?D:this.cache.event),this},k._update=function(e,t){var n=this,i=this.cache;return this.rendered&&e?(r.isFunction(e)&&(e=e.call(this.elements.target,i.event,this)||""),r.isFunction(e.then)?(i.waiting=M,e.then(function(e){return i.waiting=_,n._update(e,t)},D,function(e){return n._update(e,t)})):e===_||!e&&""!==e?_:(e.jquery&&e.length>0?t.children().detach().end().append(e.css({display:"block",visibility:"visible"})):t.html(e),i.waiting=M,(r.fn.imagesLoaded?t.imagesLoaded():r.Deferred().resolve(r([]))).done(function(e){i.waiting=_,e.length&&n.rendered&&n.tooltip[0].offsetWidth>0&&n.reposition(i.event,!e.length)}).promise())):_},k._updateContent=function(e,t){this._update(e,this.elements.content,t)},k._updateTitle=function(e,t){this._update(e,this.elements.title,t)===_&&this._removeTitle(_)},k._createTitle=function(){var e=this.elements,t=this._id+"-title";e.titlebar&&this._removeTitle(),e.titlebar=r("<div />",{"class":V+"-titlebar "+(this.options.style.widget?c("header"):"")}).append(e.title=r("<div />",{id:t,"class":V+"-title","aria-atomic":M})).insertBefore(e.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(e){r(this).toggleClass("ui-state-active ui-state-focus","down"===e.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(e){r(this).toggleClass("ui-state-hover","mouseover"===e.type)}),this.options.content.button&&this._createButton()},k._removeTitle=function(e){var t=this.elements;t.title&&(t.titlebar.remove(),t.titlebar=t.title=t.button=D,e!==_&&this.reposition())},k.reposition=function(n,i){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=M;var s,o,u=this.cache,a=this.tooltip,f=this.options.position,l=f.target,c=f.my,h=f.at,p=f.viewport,d=f.container,v=f.adjust,m=v.method.split(" "),g=a.outerWidth(_),y=a.outerHeight(_),b=0,w=0,E=a.css("position"),S={left:0,top:0},x=a[0].offsetWidth>0,T=n&&"scroll"===n.type,N=r(e),C=d[0].ownerDocument,k=this.mouse;if(r.isArray(l)&&2===l.length)h={x:I,y:F},S={left:l[0],top:l[1]};else if("mouse"===l)h={x:I,y:F},!k||!k.pageX||!v.mouse&&n&&n.pageX?n&&n.pageX||(!n||"resize"!==n.type&&"scroll"!==n.type?(!v.mouse||this.options.show.distance)&&u.origin&&u.origin.pageX&&(n=u.origin):n=u.event):n=k,"static"!==E&&(S=d.offset()),C.body.offsetWidth!==(e.innerWidth||C.documentElement.clientWidth)&&(o=r(t.body).offset()),S={left:n.pageX-S.left+(o&&o.left||0),top:n.pageY-S.top+(o&&o.top||0)},v.mouse&&T&&k&&(S.left-=(k.scrollX||0)-N.scrollLeft(),S.top-=(k.scrollY||0)-N.scrollTop());else{if("event"===l&&n&&n.target&&"scroll"!==n.type&&"resize"!==n.type?u.target=r(n.target):"event"!==l&&(u.target=r(l.jquery?l:this.elements.target)),l=u.target,l=r(l).eq(0),0===l.length)return this;l[0]===t||l[0]===e?(b=st.iOS?e.innerWidth:l.width(),w=st.iOS?e.innerHeight:l.height(),l[0]===e&&(S={top:(p||l).scrollTop(),left:(p||l).scrollLeft()})):X.imagemap&&l.is("area")?s=X.imagemap(this,l,h,X.viewport?m:_):X.svg&&l[0].ownerSVGElement?s=X.svg(this,l,h,X.viewport?m:_):(b=l.outerWidth(_),w=l.outerHeight(_),S=l.offset()),s&&(b=s.width,w=s.height,o=s.offset,S=s.position),S=this.reposition.offset(l,S,d),(st.iOS>3.1&&4.1>st.iOS||st.iOS>=4.3&&4.33>st.iOS||!st.iOS&&"fixed"===E)&&(S.left-=N.scrollLeft(),S.top-=N.scrollTop()),(!s||s&&s.adjustable!==_)&&(S.left+=h.x===R?b:h.x===U?b/2:0,S.top+=h.y===q?w:h.y===U?w/2:0)}return S.left+=v.x+(c.x===R?-g:c.x===U?-g/2:0),S.top+=v.y+(c.y===q?-y:c.y===U?-y/2:0),X.viewport?(S.adjusted=X.viewport(this,S,f,b,w,g,y),o&&S.adjusted.left&&(S.left+=o.left),o&&S.adjusted.top&&(S.top+=o.top)):S.adjusted={left:0,top:0},this._trigger("move",[S,p.elem||p],n)?(delete S.adjusted,i===_||!x||isNaN(S.left)||isNaN(S.top)||"mouse"===l||!r.isFunction(f.effect)?a.css(S):r.isFunction(f.effect)&&(f.effect.call(a,this,r.extend({},S)),a.queue(function(e){r(this).css({opacity:"",height:""}),st.ie&&this.style.removeAttribute("filter"),e()})),this.positioning=_,this):this},k.reposition.offset=function(e,n,i){function s(e,t){n.left+=t*e.scrollLeft(),n.top+=t*e.scrollTop()}if(!i[0])return n;var o,u,a,f,l=r(e[0].ownerDocument),c=!!st.ie&&"CSS1Compat"!==t.compatMode,h=i[0];do"static"!==(u=r.css(h,"position"))&&("fixed"===u?(a=h.getBoundingClientRect(),s(l,-1)):(a=r(h).position(),a.left+=parseFloat(r.css(h,"borderLeftWidth"))||0,a.top+=parseFloat(r.css(h,"borderTopWidth"))||0),n.left-=a.left+(parseFloat(r.css(h,"marginLeft"))||0),n.top-=a.top+(parseFloat(r.css(h,"marginTop"))||0),o||"hidden"===(f=r.css(h,"overflow"))||"visible"===f||(o=r(h)));while(h=h.offsetParent);return o&&(o[0]!==l[0]||c)&&s(o,1),n};var at=(L=k.reposition.Corner=function(e,t){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,U).toLowerCase(),this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!t;var n=e.charAt(0);this.precedance="t"===n||"b"===n?H:P}).prototype;at.invert=function(e,t){this[e]=this[e]===I?R:this[e]===R?I:t||this[e]},at.string=function(){var e=this.x,t=this.y;return e===t?e:this.precedance===H||this.forceY&&"center"!==t?t+" "+e:e+" "+t},at.abbrev=function(){var e=this.string().split(" ");return e[0].charAt(0)+(e[1]&&e[1].charAt(0)||"")},at.clone=function(){return new L(this.string(),this.forceY)},k.toggle=function(e,n){var i=this.cache,s=this.options,o=this.tooltip;if(n){if(/over|enter/.test(n.type)&&/out|leave/.test(i.event.type)&&s.show.target.add(n.target).length===s.show.target.length&&o.has(n.relatedTarget).length)return this;i.event=h(n)}if(this.waiting&&!e&&(this.hiddenDuringWait=M),!this.rendered)return e?this.render(1):this;if(this.destroyed||this.disabled)return this;var u,a,f,l=e?"show":"hide",c=this.options[l],p=(this.options[e?"hide":"show"],this.options.position),d=this.options.content,v=this.tooltip.css("width"),m=this.tooltip[0].offsetWidth>0,g=e||1===c.target.length,y=!n||2>c.target.length||i.target[0]===n.target;return(typeof e).search("boolean|number")&&(e=!m),u=!o.is(":animated")&&m===e&&y,a=u?D:!!this._trigger(l,[90]),a!==_&&e&&this.focus(n),!a||u?this:(r.attr(o[0],"aria-hidden",!e),e?(i.origin=h(this.mouse),r.isFunction(d.text)&&this._updateContent(d.text,_),r.isFunction(d.title)&&this._updateTitle(d.title,_),!O&&"mouse"===p.target&&p.adjust.mouse&&(r(t).bind("mousemove."+V,this._storeMouse),O=M),v||o.css("width",o.outerWidth(_)),this.reposition(n,arguments[2]),v||o.css("width",""),c.solo&&("string"==typeof c.solo?r(c.solo):r(Q,c.solo)).not(o).not(c.target).qtip("hide",r.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete i.origin,O&&!r(Q+'[tracking="true"]:visible',c.solo).not(o).length&&(r(t).unbind("mousemove."+V),O=_),this.blur(n)),f=r.proxy(function(){e?(st.ie&&o[0].style.removeAttribute("filter"),o.css("overflow",""),"string"==typeof c.autofocus&&r(this.options.show.autofocus,o).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):o.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(e?"visible":"hidden")},this),c.effect===_||g===_?(o[l](),f()):r.isFunction(c.effect)?(o.stop(1,1),c.effect.call(o,this),o.queue("fx",function(e){f(),e()})):o.fadeTo(90,e?1:0,f),e&&c.target.trigger("qtip-"+this.id+"-inactive"),this)},k.show=function(e){return this.toggle(M,e)},k.hide=function(e){return this.toggle(_,e)},k.focus=function(e){if(!this.rendered||this.destroyed)return this;var t=r(Q),n=this.tooltip,i=parseInt(n[0].style.zIndex,10),s=C.zindex+t.length;return n.hasClass(et)||this._trigger("focus",[s],e)&&(i!==s&&(t.each(function(){this.style.zIndex>i&&(this.style.zIndex=this.style.zIndex-1)}),t.filter("."+et).qtip("blur",e)),n.addClass(et)[0].style.zIndex=s),this},k.blur=function(e){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(et),this._trigger("blur",[this.tooltip.css("zIndex")],e),this)},k.disable=function(e){return this.destroyed?this:("boolean"!=typeof e&&(e=this.rendered?!this.tooltip.hasClass(nt):!this.disabled),this.rendered&&this.tooltip.toggleClass(nt,e).attr("aria-disabled",e),this.disabled=!!e,this)},k.enable=function(){return this.disable(_)},k._createButton=function(){var e=this,t=this.elements,n=t.tooltip,i=this.options.content.button,s="string"==typeof i,o=s?i:"Close tooltip";t.button&&t.button.remove(),t.button=i.jquery?i:r("<a />",{"class":"qtip-close "+(this.options.style.widget?"":V+"-icon"),title:o,"aria-label":o}).prepend(r("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),t.button.appendTo(t.titlebar||n).attr("role","button").click(function(t){return n.hasClass(nt)||e.hide(t),_})},k._updateButton=function(e){if(!this.rendered)return _;var t=this.elements.button;e?this._createButton():t.remove()},k._setWidget=function(){var e=this.options.style.widget,t=this.elements,n=t.tooltip,r=n.hasClass(nt);n.removeClass(nt),nt=e?"ui-state-disabled":"qtip-disabled",n.toggleClass(nt,r),n.toggleClass("ui-helper-reset "+c(),e).toggleClass(Z,this.options.style.def&&!e),t.content&&t.content.toggleClass(c("content"),e),t.titlebar&&t.titlebar.toggleClass(c("header"),e),t.button&&t.button.toggleClass(V+"-icon",!e)},k._storeMouse=function(e){(this.mouse=h(e)).type="mousemove"},k._bind=function(e,t,n,i,s){var o="."+this._id+(i?"-"+i:"");t.length&&r(e).bind((t.split?t:t.join(o+" "))+o,r.proxy(n,s||this))},k._unbind=function(e,t){r(e).unbind("."+this._id+(t?"-"+t:""))};var ft="."+V;r(function(){y(Q,["mouseenter","mouseleave"],function(e){var t="mouseenter"===e.type,n=r(e.currentTarget),i=r(e.relatedTarget||e.target),s=this.options;t?(this.focus(e),n.hasClass(Y)&&!n.hasClass(nt)&&clearTimeout(this.timers.hide)):"mouse"===s.position.target&&s.hide.event&&s.show.target&&!i.closest(s.show.target[0]).length&&this.hide(e),n.toggleClass(tt,t)}),y("["+J+"]",G,m)}),k._trigger=function(e,t,n){var i=r.Event("tooltip"+e);return i.originalEvent=n&&r.extend({},n)||this.cache.event||D,this.triggering=M,this.tooltip.trigger(i,[this].concat(t||[])),this.triggering=_,!i.isDefaultPrevented()},k._assignInitialEvents=function(e){function t(e){return this.disabled||this.destroyed?_:(this.cache.event=h(e),this.cache.target=e?r(e.target):[n],clearTimeout(this.timers.show),this.timers.show=p.call(this,function(){this.render("object"==typeof e||s.show.ready)},s.show.delay),n)}var s=this.options,o=s.show.target,u=s.hide.target,a=s.show.event?r.trim(""+s.show.event).split(" "):[],f=s.hide.event?r.trim(""+s.hide.event).split(" "):[];/mouse(over|enter)/i.test(s.show.event)&&!/mouse(out|leave)/i.test(s.hide.event)&&f.push("mouseleave"),this._bind(o,"mousemove",function(e){this._storeMouse(e),this.cache.onTarget=M}),this._bind(o,a,t),s.show.event!==s.hide.event&&this._bind(u,f,function(){clearTimeout(this.timers.show)}),(s.show.ready||s.prerender)&&t.call(this,e)},k._assignEvents=function(){var s=this,o=this.options,u=o.position,a=this.tooltip,f=o.show.target,l=o.hide.target,c=u.container,h=u.viewport,p=r(t),y=(r(t.body),r(e)),b=o.show.event?r.trim(""+o.show.event).split(" "):[],w=o.hide.event?r.trim(""+o.hide.event).split(" "):[],E=[];r.each(o.events,function(e,t){s._bind(a,"toggle"===e?["tooltipshow","tooltiphide"]:["tooltip"+e],t,null,a)}),/mouse(out|leave)/i.test(o.hide.event)&&"window"===o.hide.leave&&this._bind(p,["mouseout","blur"],function(e){/select|option/.test(e.target.nodeName)||e.relatedTarget||this.hide(e)}),o.hide.fixed?l=l.add(a.addClass(Y)):/mouse(over|enter)/i.test(o.show.event)&&this._bind(l,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+o.hide.event).indexOf("unfocus")>-1&&this._bind(c.closest("html"),["mousedown","touchstart"],function(e){var t=r(e.target),n=this.rendered&&!this.tooltip.hasClass(nt)&&this.tooltip[0].offsetWidth>0,i=t.parents(Q).filter(this.tooltip[0]).length>0;t[0]===this.target[0]||t[0]===this.tooltip[0]||i||this.target.has(t[0]).length||!n||this.hide(e)}),"number"==typeof o.hide.inactive&&(this._bind(f,"qtip-"+this.id+"-inactive",m),this._bind(l.add(a),C.inactiveEvents,m,"-inactive")),w=r.map(w,function(e){var t=r.inArray(e,b);return t>-1&&l.add(f).length===l.length?(E.push(b.splice(t,1)[0]),n):e}),this._bind(f,b,d),this._bind(l,w,v),this._bind(f,E,function(e){(this.tooltip[0].offsetWidth>0?v:d).call(this,e)}),this._bind(f.add(a),"mousemove",function(e){if("number"==typeof o.hide.distance){var t=this.cache.origin||{},n=this.options.hide.distance,r=Math.abs;(r(e.pageX-t.pageX)>=n||r(e.pageY-t.pageY)>=n)&&this.hide(e)}this._storeMouse(e)}),"mouse"===u.target&&u.adjust.mouse&&(o.hide.event&&this._bind(f,["mouseenter","mouseleave"],function(e){this.cache.onTarget="mouseenter"===e.type}),this._bind(p,"mousemove",function(e){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(nt)&&this.tooltip[0].offsetWidth>0&&this.reposition(e)})),(u.adjust.resize||h.length)&&this._bind(r.event.special.resize?h:y,"resize",g),u.adjust.scroll&&this._bind(y.add(u.container),"scroll",g)},k._unassignEvents=function(){var n=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],e,t];this._unbind(r([]).pushStack(r.grep(n,function(e){return"object"==typeof e})))},C=r.fn.qtip=function(e,t,s){var o=(""+e).toLowerCase(),u=D,f=r.makeArray(arguments).slice(1),l=f[f.length-1],c=this[0]?r.data(this[0],V):D;return!arguments.length&&c||"api"===o?c:"string"==typeof e?(this.each(function(){var e=r.data(this,V);if(!e)return M;if(l&&l.timeStamp&&(e.cache.event=l),!t||"option"!==o&&"options"!==o)e[o]&&e[o].apply(e,f);else{if(s===n&&!r.isPlainObject(t))return u=e.get(t),_;e.set(t,s)}}),u!==D?u:this):"object"!=typeof e&&arguments.length?n:(c=a(r.extend(M,{},e)),this.each(function(e){var t,s;return s=r.isArray(c.id)?c.id[e]:c.id,s=!s||s===_||1>s.length||C.api[s]?C.nextid++:s,t=b(r(this),s,c),t===_?M:(C.api[s]=t,r.each(X,function(){"initialize"===this.initialize&&this(t)}),t._assignInitialEvents(l),n)}))},C.api={},r.each({attr:function(e,t){if(this.length){var n=this[0],i="title",s=r.data(n,"qtip");if(e===i&&s&&"object"==typeof s&&s.options.suppress)return 2>arguments.length?r.attr(n,it):(s&&s.options.content.attr===i&&s.cache.attr&&s.set("content.text",t),this.attr(it,t))}return r.fn["attr"+rt].apply(this,arguments)},clone:function(e){var t=(r([]),r.fn["clone"+rt].apply(this,arguments));return e||t.filter("["+it+"]").attr("title",function(){return r.attr(this,it)}).removeAttr(it),t}},function(e,t){if(!t||r.fn[e+rt])return M;var n=r.fn[e+rt]=r.fn[e];r.fn[e]=function(){return t.apply(this,arguments)||n.apply(this,arguments)}}),r.ui||(r["cleanData"+rt]=r.cleanData,r.cleanData=function(e){for(var t,n=0;(t=r(e[n])).length;n++)if(t.attr($))try{t.triggerHandler("removeqtip")}catch(i){}r["cleanData"+rt].apply(this,arguments)}),C.version="2.1.1",C.nextid=0,C.inactiveEvents=G,C.zindex=15e3,C.defaults={prerender:_,id:_,overwrite:M,suppress:M,content:{text:M,attr:"title",title:_,button:_},position:{my:"top left",at:"bottom right",target:_,container:_,viewport:_,adjust:{x:0,y:0,mouse:M,scroll:M,resize:M,method:"flipinvert flipinvert"},effect:function(e,t){r(this).animate(t,{duration:200,queue:_})}},show:{target:_,event:"mouseenter",effect:M,delay:90,solo:_,ready:_,autofocus:_},hide:{target:_,event:"mouseleave",effect:M,delay:0,fixed:_,inactive:_,leave:"window",distance:_},style:{classes:"",widget:_,width:_,height:_,def:M},events:{render:D,move:D,show:D,hide:D,toggle:D,visible:D,hidden:D,focus:D,blur:D}};var lt,ct,ht="margin",pt="border",dt="color",vt="background-color",mt="transparent",gt=" !important",yt=!!t.createElement("canvas").getContext,bt=e.devicePixelRatio||1,wt=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,Et={},St=["Webkit","O","Moz","ms"];yt||(ct=function(e,t,n){return"<qtipvml:"+e+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(n||"")+'" />'}),r.extend(x.prototype,{init:function(e){var t,n;n=this.element=e.elements.tip=r("<div />",{"class":V+"-tip"}).prependTo(e.tooltip),yt?(t=r("<canvas />").appendTo(this.element)[0].getContext("2d"),t.lineJoin="miter",t.miterLimit=1e5,t.save()):(t=ct("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(t+t),e._bind(r("*",n).add(n),["click","mousedown"],function(e){e.stopPropagation()},this._ns)),e._bind(e.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(e){var t=this.qtip.elements.titlebar;return t&&(e.y===F||e.y===U&&this.element.position().top+this.size[1]/2+this.options.offset<t.outerHeight(M))},_parseCorner:function(e){var t=this.qtip.options.position.my;return e===_||t===_?e=_:e===M?e=new L(t.string()):e.string||(e=new L(e),e.fixed=M),e},_parseWidth:function(e,t,n){var r=this.qtip.elements,i=pt+w(t)+"Width";return(n?S(n,i):S(r.content,i)||S(this._useTitle(e)&&r.titlebar||r.content,i)||S(r.tooltip,i))||0},_parseRadius:function(e){var t=this.qtip.elements,n=pt+w(e.y)+w(e.x)+"Radius";return 9>st.ie?0:S(this._useTitle(e)&&t.titlebar||t.content,n)||S(t.tooltip,n)||0},_invalidColour:function(e,t,n){var r=e.css(t);return!r||n&&r===e.css(n)||wt.test(r)?_:r},_parseColours:function(e){var t=this.qtip.elements,n=this.element.css("cssText",""),i=pt+w(e[e.precedance])+w(dt),s=this._useTitle(e)&&t.titlebar||t.content,o=this._invalidColour,u=[];return u[0]=o(n,vt)||o(s,vt)||o(t.content,vt)||o(t.tooltip,vt)||n.css(vt),u[1]=o(n,i,dt)||o(s,i,dt)||o(t.content,i,dt)||o(t.tooltip,i,dt)||t.tooltip.css(i),r("*",n).add(n).css("cssText",vt+":"+mt+gt+";"+pt+":0"+gt+";"),u},_calculateSize:function(e){var t,n,r,i=e.precedance===H,s=this.options.width,o=this.options.height,u="c"===e.abbrev(),a=(i?s:o)*(u?.5:1),f=Math.pow,l=Math.round,c=Math.sqrt(f(a,2)+f(o,2)),h=[this.border/a*c,this.border/o*c];return h[2]=Math.sqrt(f(h[0],2)-f(this.border,2)),h[3]=Math.sqrt(f(h[1],2)-f(this.border,2)),t=c+h[2]+h[3]+(u?0:h[0]),n=t/c,r=[l(n*s),l(n*o)],i?r:r.reverse()},_calculateTip:function(e,t,n){n=n||1,t=t||this.size;var r=t[0]*n,i=t[1]*n,s=Math.ceil(r/2),o=Math.ceil(i/2),u={br:[0,0,r,i,r,0],bl:[0,0,r,0,0,i],tr:[0,i,r,0,r,i],tl:[0,0,0,i,r,i],tc:[0,i,s,0,r,i],bc:[0,0,r,0,s,i],rc:[0,0,r,o,0,i],lc:[r,0,r,i,0,o]};return u.lt=u.br,u.rt=u.bl,u.lb=u.tr,u.rb=u.tl,u[e.abbrev()]},_drawCoords:function(e,t){e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(t[2],t[3]),e.lineTo(t[4],t[5]),e.closePath()},create:function(){var e=this.corner=(yt||st.ie)&&this._parseCorner(this.options.corner);return(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())&&(this.qtip.cache.corner=e.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(t,n){if(!this.enabled)return this;var i,s,o,u,a,f,l,c,h,p,d=this.qtip.elements,v=this.element,m=v.children(),g=this.options,y=this.size,b=g.mimic,w=Math.round;t||(t=this.qtip.cache.corner||this.corner),b===_?b=t:(b=new L(b),b.precedance=t.precedance,"inherit"===b.x?b.x=t.x:"inherit"===b.y?b.y=t.y:b.x===b.y&&(b[t.precedance]=t[t.precedance])),s=b.precedance,t.precedance===P?this._swapDimensions():this._resetDimensions(),i=this.color=this._parseColours(t),i[1]!==mt?(h=this.border=this._parseWidth(t,t[t.precedance]),g.border&&1>h&&(i[0]=i[1]),this.border=h=g.border!==M?g.border:h):this.border=h=0,c=this.size=this._calculateSize(t),v.css({width:c[0],height:c[1],lineHeight:c[1]+"px"}),l=t.precedance===H?[w(b.x===I?h:b.x===R?c[0]-y[0]-h:(c[0]-y[0])/2),w(b.y===F?c[1]-y[1]:0)]:[w(b.x===I?c[0]-y[0]:0),w(b.y===F?h:b.y===q?c[1]-y[1]-h:(c[1]-y[1])/2)],yt?(o=m[0].getContext("2d"),o.restore(),o.save(),o.clearRect(0,0,6e3,6e3),p=o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1,u=bt/p,a=this._calculateTip(b,y,u),f=this._calculateTip(b,this.size,u),m.attr(B,c[0]*u).attr(j,c[1]*u),m.css(B,c[0]).css(j,c[1]),this._drawCoords(o,f),o.fillStyle=i[1],o.fill(),o.translate(l[0]*u,l[1]*u),this._drawCoords(o,a),o.fillStyle=i[0],o.fill()):(a=this._calculateTip(b),a="m"+a[0]+","+a[1]+" l"+a[2]+","+a[3]+" "+a[4]+","+a[5]+" xe",l[2]=h&&/^(r|b)/i.test(t.string())?8===st.ie?2:1:0,m.css({coordsize:c[0]+h+" "+(c[1]+h),antialias:""+(b.string().indexOf(U)>-1),left:l[0]-l[2]*Number(s===P),top:l[1]-l[2]*Number(s===H),width:c[0]+h,height:c[1]+h}).each(function(e){var t=r(this);t[t.prop?"prop":"attr"]({coordsize:c[0]+h+" "+(c[1]+h),path:a,fillcolor:i[0],filled:!!e,stroked:!e}).toggle(!!h||!!e),!e&&t.html(ct("stroke",'weight="'+2*h+'px" color="'+i[1]+'" miterlimit="1000" joinstyle="miter"'))})),e.opera&&setTimeout(function(){d.tip.css({display:"inline-block",visibility:"visible"})},1),n!==_&&this.calculate(t,c)},calculate:function(e,t){if(!this.enabled)return _;var n,i,s=this,o=this.qtip.elements,u=this.element,a=this.options.offset,f=(o.tooltip.hasClass("ui-widget"),{});return e=e||this.corner,n=e.precedance,t=t||this._calculateSize(e),i=[e.x,e.y],n===P&&i.reverse(),r.each(i,function(r,i){var u,l,c;i===U?(u=n===H?I:F,f[u]="50%",f[ht+"-"+u]=-Math.round(t[n===H?0:1]/2)+a):(u=s._parseWidth(e,i,o.tooltip),l=s._parseWidth(e,i,o.content),c=s._parseRadius(e),f[i]=Math.max(-s.border,r?l:a+(c>u?c:-u)))}),f[e[n]]-=t[n===P?0:1],u.css({margin:"",top:"",bottom:"",left:"",right:""}).css(f),f},reposition:function(e,t,r){function s(e,t,n,r,i){e===W&&l.precedance===t&&c[r]&&l[n]!==U?l.precedance=l.precedance===P?H:P:e!==W&&c[r]&&(l[t]=l[t]===U?c[r]>0?r:i:l[t]===r?i:r)}function o(e,t,s){l[e]===U?m[ht+"-"+t]=v[e]=u[ht+"-"+t]-c[t]:(a=u[s]!==n?[c[t],-u[t]]:[-c[t],u[t]],(v[e]=Math.max(a[0],a[1]))>a[0]&&(r[t]-=c[t],v[t]=_),m[u[s]!==n?s:t]=v[e])}if(this.enabled){var u,a,f=t.cache,l=this.corner.clone(),c=r.adjusted,h=t.options.position.adjust.method.split(" "),p=h[0],d=h[1]||h[0],v={left:_,top:_,x:0,y:0},m={};this.corner.fixed!==M&&(s(p,P,H,I,R),s(d,H,P,F,q),l.string()===f.corner.string()||f.cornerTop===c.top&&f.cornerLeft===c.left||this.update(l,_)),u=this.calculate(l),u.right!==n&&(u.left=-u.right),u.bottom!==n&&(u.top=-u.bottom),u.user=this.offset,(v.left=p===W&&!!c.left)&&o(P,I,R),(v.top=d===W&&!!c.top)&&o(H,F,q),this.element.css(m).toggle(!(v.x&&v.y||l.x===U&&v.y||l.y===U&&v.x)),r.left-=u.left.charAt?u.user:p!==W||v.top||!v.left&&!v.top?u.left+this.border:0,r.top-=u.top.charAt?u.user:d!==W||v.left||!v.left&&!v.top?u.top+this.border:0,f.cornerLeft=c.left,f.cornerTop=c.top,f.corner=l.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),lt=X.tip=function(e){return new x(e,e.options.style.tip)},lt.initialize="render",lt.sanitize=function(e){if(e.style&&"tip"in e.style){var t=e.style.tip;"object"!=typeof t&&(t=e.style.tip={corner:t}),/string|boolean/i.test(typeof t.corner)||(t.corner=M)}},A.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(e){this.size=[e.width,e.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},r.extend(M,C.defaults,{style:{tip:{corner:M,mimic:_,width:6,height:6,border:M,offset:0}}});var xt,Tt,Nt="qtip-modal",Ct="."+Nt;Tt=function(){function e(e){if(r.expr[":"].focusable)return r.expr[":"].focusable;var t,n,i,s=!isNaN(r.attr(e,"tabindex")),o=e.nodeName&&e.nodeName.toLowerCase();return"area"===o?(t=e.parentNode,n=t.name,e.href&&n&&"map"===t.nodeName.toLowerCase()?(i=r("img[usemap=#"+n+"]")[0],!!i&&i.is(":visible")):!1):/input|select|textarea|button|object/.test(o)?!e.disabled:"a"===o?e.href||s:s}function n(e){1>l.length&&e.length?e.not("body").blur():l.first().focus()}function i(e){if(a.is(":visible")){var t,i=r(e.target),u=s.tooltip,f=i.closest(Q);t=1>f.length?_:parseInt(f[0].style.zIndex,10)>parseInt(u[0].style.zIndex,10),t||i.closest(Q)[0]===u[0]||n(i),o=e.target===l[l.length-1]}}var s,o,u,a,f=this,l={};r.extend(f,{init:function(){return a=f.elem=r("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return _}}).hide(),r(t.body).bind("focusin"+Ct,i),r(t).bind("keydown"+Ct,function(e){s&&s.options.show.modal.escape&&27===e.keyCode&&s.hide(e)}),a.bind("click"+Ct,function(e){s&&s.options.show.modal.blur&&s.hide(e)}),f},update:function(t){s=t,l=t.options.show.modal.stealfocus!==_?t.tooltip.find("*").filter(function(){return e(this)}):[]},toggle:function(e,i,o){var l=(r(t.body),e.tooltip),c=e.options.show.modal,h=c.effect,p=i?"show":"hide",d=a.is(":visible"),v=r(Ct).filter(":visible:not(:animated)").not(l);return f.update(e),i&&c.stealfocus!==_&&n(r(":focus")),a.toggleClass("blurs",c.blur),i&&a.appendTo(t.body),a.is(":animated")&&d===i&&u!==_||!i&&v.length?f:(a.stop(M,_),r.isFunction(h)?h.call(a,i):h===_?a[p]():a.fadeTo(parseInt(o,10)||90,i?1:0,function(){i||a.hide()}),i||a.queue(function(e){a.css({left:"",top:""}),r(Ct).length||a.detach(),e()}),u=i,s.destroyed&&(s=D),f)}}),f.init()},Tt=new Tt,r.extend(T.prototype,{init:function(e){var t=e.tooltip;return this.options.on?(e.elements.overlay=Tt.elem,t.addClass(Nt).css("z-index",C.modal_zindex+r(Ct).length),e._bind(t,["tooltipshow","tooltiphide"],function(e,n,i){var s=e.originalEvent;if(e.target===t[0])if(s&&"tooltiphide"===e.type&&/mouse(leave|enter)/.test(s.type)&&r(s.relatedTarget).closest(Tt.elem[0]).length)try{e.preventDefault()}catch(o){}else(!s||s&&!s.solo)&&this.toggle(e,"tooltipshow"===e.type,i)},this._ns,this),e._bind(t,"tooltipfocus",function(e,n){if(!e.isDefaultPrevented()&&e.target===t[0]){var i=r(Ct),s=C.modal_zindex+i.length,o=parseInt(t[0].style.zIndex,10);Tt.elem[0].style.zIndex=s-1,i.each(function(){this.style.zIndex>o&&(this.style.zIndex-=1)}),i.filter("."+et).qtip("blur",e.originalEvent),t.addClass(et)[0].style.zIndex=s,Tt.update(n);try{e.preventDefault()}catch(u){}}},this._ns,this),e._bind(t,"tooltiphide",function(e){e.target===t[0]&&r(Ct).filter(":visible").not(t).last().qtip("focus",e)},this._ns,this),n):this},toggle:function(e,t,r){return e&&e.isDefaultPrevented()?this:(Tt.toggle(this.qtip,!!t,r),n)},destroy:function(){this.qtip.tooltip.removeClass(Nt),this.qtip._unbind(this.qtip.tooltip,this._ns),Tt.toggle(this.qtip,_),delete this.qtip.elements.overlay}}),xt=X.modal=function(e){return new T(e,e.options.show.modal)},xt.sanitize=function(e){e.show&&("object"!=typeof e.show.modal?e.show.modal={on:!!e.show.modal}:e.show.modal.on===n&&(e.show.modal.on=M))},C.modal_zindex=C.zindex-200,xt.initialize="render",A.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},r.extend(M,C.defaults,{show:{modal:{on:_,effect:M,blur:M,stealfocus:M,escape:M}}}),X.viewport=function(n,r,i,s,o,u,a){function f(e,t,n,i,s,o,u,a,f){var l=r[s],h=v[e],p=m[e],d=n===W,g=-S.offset[s]+E.offset[s]+E["scroll"+s],y=h===s?f:h===o?-f:-f/2,b=p===s?a:p===o?-a:-a/2,w=g-l,x=l+f-E[u]-g,T=y-(v.precedance===e||h===v[t]?b:0)-(p===U?a/2:0);return d?(T=(h===s?1:-1)*y,r[s]+=w>0?w:x>0?-x:0,r[s]=Math.max(-S.offset[s]+E.offset[s],l-T,Math.min(Math.max(-S.offset[s]+E.offset[s]+E[u],l+T),r[s]))):(i*=n===z?2:0,w>0&&(h!==s||x>0)?(r[s]-=T+i,c.invert(e,s)):x>0&&(h!==o||w>0)&&(r[s]-=(h===U?-T:T)+i,c.invert(e,o)),g>r[s]&&-r[s]>x&&(r[s]=l,c=v.clone())),r[s]-l}var l,c,h,p=i.target,d=n.elements.tooltip,v=i.my,m=i.at,g=i.adjust,y=g.method.split(" "),b=y[0],w=y[1]||y[0],E=i.viewport,S=i.container,x=n.cache,T={left:0,top:0};return E.jquery&&p[0]!==e&&p[0]!==t.body&&"none"!==g.method?(l="fixed"===d.css("position"),E={elem:E,width:E[0]===e?E.width():E.outerWidth(_),height:E[0]===e?E.height():E.outerHeight(_),scrollleft:l?0:E.scrollLeft(),scrolltop:l?0:E.scrollTop(),offset:E.offset()||{left:0,top:0}},S={elem:S,scrollLeft:S.scrollLeft(),scrollTop:S.scrollTop(),offset:S.offset()||{left:0,top:0}},("shift"!==b||"shift"!==w)&&(c=v.clone()),T={left:"none"!==b?f(P,H,b,g.x,I,R,B,s,u):0,top:"none"!==w?f(H,P,w,g.y,F,q,j,o,a):0},c&&x.lastClass!==(h=V+"-pos-"+c.abbrev())&&d.removeClass(n.cache.lastClass).addClass(n.cache.lastClass=h),T):T},X.polys={polygon:function(e,t){var n,r,i,s={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:_},o=0,u=[],a=1,f=1,l=0,c=0;for(o=e.length;o--;)n=[parseInt(e[--o],10),parseInt(e[o+1],10)],n[0]>s.position.right&&(s.position.right=n[0]),n[0]<s.position.left&&(s.position.left=n[0]),n[1]>s.position.bottom&&(s.position.bottom=n[1]),n[1]<s.position.top&&(s.position.top=n[1]),u.push(n);if(r=s.width=Math.abs(s.position.right-s.position.left),i=s.height=Math.abs(s.position.bottom-s.position.top),"c"===t.abbrev())s.position={left:s.position.left+s.width/2,top:s.position.top+s.height/2};else{for(;r>0&&i>0&&a>0&&f>0;)for(r=Math.floor(r/2),i=Math.floor(i/2),t.x===I?a=r:t.x===R?a=s.width-r:a+=Math.floor(r/2),t.y===F?f=i:t.y===q?f=s.height-i:f+=Math.floor(i/2),o=u.length;o--&&!(2>u.length);)l=u[o][0]-s.position.left,c=u[o][1]-s.position.top,(t.x===I&&l>=a||t.x===R&&a>=l||t.x===U&&(a>l||l>s.width-a)||t.y===F&&c>=f||t.y===q&&f>=c||t.y===U&&(f>c||c>s.height-f))&&u.splice(o,1);s.position={left:u[0][0],top:u[0][1]}}return s},rect:function(e,t,n,r){return{width:Math.abs(n-e),height:Math.abs(r-t),position:{left:Math.min(e,n),top:Math.min(t,r)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(e,t,n,r,i){var s=X.polys._angles[i.abbrev()],o=0===s?0:n*Math.cos(s*Math.PI),u=r*Math.sin(s*Math.PI);return{width:2*n-Math.abs(o),height:2*r-Math.abs(u),position:{left:e+o,top:t+u},adjustable:_}},circle:function(e,t,n,r){return X.polys.ellipse(e,t,n,n,r)}},X.svg=function(e,n,i){for(var s,o,u,a,f,l,c,h,p,d,v,m=r(t),g=n[0],y=r(g.ownerSVGElement),b=1,w=1,E=!0;!g.getBBox;)g=g.parentNode;if(!g.getBBox||!g.parentNode)return _;s=y.attr("width")||y.width()||parseInt(y.css("width"),10),o=y.attr("height")||y.height()||parseInt(y.css("height"),10);var S=(parseInt(n.css("stroke-width"),10)||0)/2;switch(S&&(b+=S/s,w+=S/o),g.nodeName){case"ellipse":case"circle":d=X.polys.ellipse(g.cx.baseVal.value,g.cy.baseVal.value,(g.rx||g.r).baseVal.value+S,(g.ry||g.r).baseVal.value+S,i);break;case"line":case"polygon":case"polyline":for(p=g.points||[{x:g.x1.baseVal.value,y:g.y1.baseVal.value},{x:g.x2.baseVal.value,y:g.y2.baseVal.value}],d=[],h=-1,l=p.numberOfItems||p.length;l>++h;)c=p.getItem?p.getItem(h):p[h],d.push.apply(d,[c.x,c.y]);d=X.polys.polygon(d,i);break;default:d=g.getBoundingClientRect(),d={width:d.width,height:d.height,position:{left:d.left,top:d.top}},E=!1}return v=d.position,y=y[0],E&&(y.createSVGPoint&&(u=g.getScreenCTM(),p=y.createSVGPoint(),p.x=v.left,p.y=v.top,a=p.matrixTransform(u),v.left=a.x,v.top=a.y),y.viewBox&&(f=y.viewBox.baseVal)&&f.width&&f.height&&(b*=s/f.width,w*=o/f.height)),v.left+=m.scrollLeft(),v.top+=m.scrollTop(),d},X.imagemap=function(e,t,n){t.jquery||(t=r(t));var i,s,o,u,a,f=t.attr("shape").toLowerCase().replace("poly","polygon"),l=r('img[usemap="#'+t.parent("map").attr("name")+'"]'),c=t.attr("coords"),h=c.split(",");if(!l.length)return _;if("polygon"===f)u=X.polys.polygon(h,n);else{if(!X.polys[f])return _;for(o=-1,a=h.length,s=[];a>++o;)s.push(parseInt(h[o],10));u=X.polys[f].apply(this,s.concat(n))}return i=l.offset(),i.left+=Math.ceil((l.outerWidth(_)-l.width())/2),i.top+=Math.ceil((l.outerHeight(_)-l.height())/2),u.position.left+=i.left,u.position.top+=i.top,u};var kt,Lt='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>';r.extend(N.prototype,{_scroll:function(){var t=this.qtip.elements.overlay;t&&(t[0].style.top=r(e).scrollTop()+"px")},init:function(n){var i=n.tooltip;1>r("select, object").length&&(this.bgiframe=n.elements.bgiframe=r(Lt).appendTo(i),n._bind(i,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=r("<div/>",{id:V+"-rcontainer"}).appendTo(t.body),n.elements.overlay&&n.elements.overlay.addClass("qtipmodal-ie6fix")&&(n._bind(e,["scroll","resize"],this._scroll,this._ns,this),n._bind(i,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var e,t,n=this.qtip.tooltip,r={height:n.outerHeight(_),width:n.outerWidth(_)},i=this.qtip.plugins.tip,s=this.qtip.elements.tip;t=parseInt(n.css("borderLeftWidth"),10)||0,t={left:-t,top:-t},i&&s&&(e="x"===i.corner.precedance?[B,I]:[j,F],t[e[1]]-=s[e[0]]()),this.bgiframe.css(t).css(r)},redraw:function(){if(1>this.qtip.rendered||this.drawing)return this;var e,t,n,r,i=this.qtip.tooltip,s=this.qtip.options.style,o=this.qtip.options.position.container;return this.qtip.drawing=1,s.height&&i.css(j,s.height),s.width?i.css(B,s.width):(i.css(B,"").appendTo(this.redrawContainer),t=i.width(),1>t%2&&(t+=1),n=i.css("maxWidth")||"",r=i.css("minWidth")||"",e=(n+r).indexOf("%")>-1?o.width()/100:0,n=(n.indexOf("%")>-1?e:1)*parseInt(n,10)||t,r=(r.indexOf("%")>-1?e:1)*parseInt(r,10)||0,t=n+r?Math.min(Math.max(t,r),n):t,i.css(B,Math.round(t)).appendTo(o)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([e,this.qtip.tooltip],this._ns)}}),kt=X.ie6=function(e){return 6===st.ie?new N(e):_},kt.initialize="render",A.ie6={"^content|style$":function(){this.redraw()}}})})(window,document);